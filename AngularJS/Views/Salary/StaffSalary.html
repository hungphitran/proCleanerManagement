<div class="row">
  <div id="breadcrumb" class="col-md-12">
    <span> Thông tin lương của nhân viên trong tháng </span>
  </div>
</div>

<div class="modal fade  bs-example-modal-lg" id="showSalaryDetailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="border-radius:5px;">
  <div class="modal-dialog  modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background-color:#8cc13d;padding-top:5px;padding-bottom:5px;">
        <h4 class="modal-title" id="myModalLabel"> Thông tin chi tiết ngày nghỉ của nhân viên </h4>
      </div>
      <div class="modal-body" style="padding-bottom:2px;">

          <form class="form-horizontal" action="" style="padding-left:20px;padding-right:20px ; padding-bottom:10px;padding-top:15px;">



                <div class="form-group" style="text-align:center;">

                <div class="col-lg-4">
                <div>
                  <img style="width:80px;height:80px;" src="{{staffSalaryDetail.hinhanh}}" id="{{staffSalaryDetail.cmnd}}" alt="avatar">
                </div>
                <div>
                <table class="table table-striped table-heading " >
                  
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Họ Tên : </td><td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.hoten}}</td>
                  </tr>
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Ngày Làm Việc  : </td><td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.ngaylamviec.getDate()}}/{{staffSalaryDetail.ngaylamviec.getMonth()+1}}/{{staffSalaryDetail.ngaylamviec.getFullYear()}}</td>
                  </tr>
                  
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Ngày Sinh : </td><td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.ngaysinh.getDate()}}/{{staffSalaryDetail.ngaysinh.getMonth()+1}}/{{staffSalaryDetail.ngaysinh.getFullYear()}}</td>
                          
                  </tr>
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Số ĐT : </td> <td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.sodt}}</td>
                  </tr>
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Quê Quán : </td> <td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.quequan}}</td>
                  </tr>
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Lương Cơ Bản : </td> <td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.luong| number}} VNĐ</td>
                  </tr>
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Số Ngày Nghỉ : </td> <td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.offDate}}</td>
                  </tr>
                  <tr>
                    <td style="padding-top:15px;padding-bottom:15px;">Lương Thực Tế : </td> <td style="padding-top:15px;padding-bottom:15px;">{{staffSalaryDetail.salary| number}} VNĐ</td>
                  </tr>

                </table>
                <div style="text-align:center;">
                  <button class="btn btn-info" ng-click="printStaffSalaryBill()" ng-show="print">In Phiếu Lương</button>
                </div>
                </div>
            </div>
                <div  class="col-lg-8" style="padding:10px;">
                  <span style="text-align:center;"> Số ngày làm việc trong khoảng thời gian này là  : {{staffSalaryDetail.workDateInThisTimeRange}} ngày</span>
                </div>
                <div  class="col-lg-8" style="padding:10px;">
                  <span style="text-align:center;"> Tổng số ngày làm việc trong tháng này là   : {{staffSalaryDetail.totalWorkDateInMonth}} ngày</span>
                </div>
                <div  class="col-lg-8" ng-show="staffSalaryDetail.batdaulamviec == true" style="padding:10px;">
                  <span style="text-align:center;" ng-show="staffSalaryDetail.batdaulamviec == true && staffSalaryDetail.dateOffBeforeWork>0"> Số ngày không được tính lương là : {{staffSalaryDetail.dateOffBeforeWork}} ngày</span>
                  <span style="text-align:center;"  ng-show="staffSalaryDetail.batdaulamviec == true && staffSalaryDetail.dateOffBeforeWork<0"> Chưa có dữ liệu lương của nhân viên trong khoảng thời gian này </span>
                </div>
                <div class="col-lg-8 box nopadding">

                  <div class="box-header"  style="background-color:#8CC13D; color:#02571c; font-weight: bold;">
                    <div class="box-name">
                      <i class="fa fa-table"></i>
                      <span>Thông tin lịch nghỉ của nhân viên</span>
                    </div>
                    <div class="box-icons">
                      <a class="collapse-link">
                        <i class="fa fa-chevron-up" style="color:#02571C;"></i>
                      </a>
                      <a class="expand-link">
                        <i class="fa fa-expand" style="color:#02571C;"></i>
                      </a>
                    </div>
                    <div class="no-move"></div>
                  </div>
                  <div class="box-content nopadding" style="height:350px;max-height:100%;overflow:visibility;position: relative;overflow: auto;overflow-y:auto;overflow-x:none;">
                      <table class="table table-hover mytable">
                       
                         <th class="col-lg-2 no-move"><i class="icon_cogs"></i> Ngày Nghỉ </th>
                         <th class="col-lg-2 no-move"><i class="icon_profile"></i> Loại </th>
                        <tbody >
                          <tr ng-repeat="day in staffSalaryDetail.listOffDate">
                            <td>{{day.ngay.getDate()}}/{{day.ngay.getMonth()+1}}/{{day.ngay.getFullYear()}}</td>
                            <td>{{day.loai}}</td>
                        </tr>
                                               
                       </tbody>
                    </table>
                  </div>
                </div>
                <div  class="col-lg-8" style="padding:10px;" ng-show="showMonth == true">
                  <span style="text-align:left;"> Trạng thái thanh toán : {{staffSalaryDetail.trangthai}}</span>
                  <button class="btn btn-info" style="padding-left:10px;padding-right:10px;" ng-click="paymentSalary(staffSalaryDetail)" ng-show="staffSalaryDetail.trangthai=='Chưa thanh toán'">Thanh Toán</button>
                </div>
        </div>
        </form>

      </div>  
      <div class="modal-footer" style="padding-bottom:5px;">
        <button  title="Quay lại" type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
        
      </div>

    </div>
  </div>
</div>




<div id="loadDataSection" style="text-align:center;">
      <span>Loading...</span>
      </br>
      <img src="img/devoops_getdata.gif" alt="Loading Data"/>
</div>

<div id="dataSection">
  <label style="padding-left:35px;">Tìm kiếm theo: </label>
    <div class="form-group col-lg-12" style="padding-right:5px; text-align:left;">
      <div class="col-lg-2 " style=" text-align:left; padding-bottom:10px;padding-left:20px;">
          <select class="form-control valid" ng-model="typeSearch" ng-options="tieuchi for tieuchi in tieuchiSearch" ng-init="typeSearch=' Tất Cả '"></select>
      </div>
      <div class="col-lg-3 nopadding" style="padding-bottom:10px;text-align:left;padding-right:0px;">
        <div  id="search" style="text-align:left;margin-top:-3px;" >
          <input type="text" placeholder="Search" ng-model="searchText"/>
          <i class="fa fa-search" style="margin-top:-10px;" ></i>
        </div>
      </div>

      <div class="col-lg-2 nopadding" style="padding-bottom:10px;text-align:right;padding-right:5px;">
        <select class="form-control valid " ng-model="chooseTimeRange" ng-options="opt for opt in typeOfTime"></select>
      </div>
      <div class="col-lg-5" style="padding-bottom:10px;text-align:center;padding-right:5px;" ng-show="chooseMonth">
          <span style="padding-left:10px;padding-right:10px;"> tháng :</span>

          <select  style="width:50px;" ng-model="chooseTimeInfo.month" ng-options="month for month in listMonth"></select>
          <span  style="padding-left:10px;padding-right:10px;"> năm :</span>
          <input style="width:70px;" type="number" ng-model="chooseTimeInfo.year">
          <button class="btn btn-info" ng-click="showSalary()" > Xem</button>
          <button class="btn btn-info" ng-click="printSalaryOfAllStaff()" ng-show="print"> In </button>
      </div>

  </div>


<div class="row">
  <div class="col-xs-12">
    <div class="box">

      <div class="box-header"  style="background-color:#8CC13D; color:#02571c; font-weight: bold;">
        <div class="box-name">
          <i class="fa fa-table"></i>
          <span ng-bind="salaryTitle"></span>
        </div>
        <div class="box-icons">
          <a class="collapse-link">
            <i class="fa fa-chevron-up" style="color:#02571C;"></i>
          </a>
          <a class="expand-link">
            <i class="fa fa-expand" style="color:#02571C;"></i>
          </a>
        </div>
        <div class="no-move"></div>
      </div>

      <div class="box-content no-padding" style="text-align:center;">
        <table class="table table-bordered table-striped table-hover table-heading " >

          <thead style="text-align:center;color:#02571c;">
            <tr>
              <th style="text-align:center;"><i class="fa fa-user"></i> Hình Ảnh</th>
              <th style="text-align:center;"><i class="fa fa-tag"></i> CMND</th>
              <th style="text-align:center;"><i class="fa fa-meh-o"></i> Họ Tên</th>
              <th style="text-align:center;"><i class="fa fa-mobile"></i> Điện Thoại</th>
              <th style="text-align:center;"><i class="fa fa-money"></i> Lương Cơ Bản</th>
              <th style="text-align:center;"><i class="fa fa-power-off"></i> Số Ngày Nghỉ</th>
              <th style="text-align:center;"><i class="fa fa-money"></i> Lương Thực Tế</th>
              <th style="text-align:center;"><i class="fa fa-gears"></i> Lựa Chọn</th>
            </tr>
          </thead>
          <tbody>
          <!-- Start: list_row -->
            <tr ng-repeat = "staff in staffList | filter:searchText">
                <td><img style="width:50px;height:50px;" src="{{staff.hinhanh}}" alt="avatar"></td>
                <td>{{staff.cmnd}}</td>
                <td>{{staff.hoten}}</td>
                <td>{{staff.sodt}}</td>
                <td>{{staff.luong| number}} VNĐ</td>
                <td>{{staff.offDate}}</td>
                <td>{{staff.salary | number}} VNĐ</td>
                <td>
                    <button title="" class="btn btn-info myDeleteButton" ng-click = "showDetailSalary(staff)">Chi tiết</button>
                    
                </td>
              </tr>
            
          <!-- End: list_row -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
</div>